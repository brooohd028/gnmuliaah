<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi Keuangan Bumdes</title>
    <script src="https://cdn.jsdelivr.net/npm/react@18.0.0/umd/react.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom@18.0.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Data dummy untuk demonstrasi
        const dummyTransactions = [
            { id: 1, date: '2023-05-01', description: 'Pendapatan Jualan Hasil Pertanian', amount: 15000000, type: 'income' },
            { id: 2, date: '2023-05-02', description: 'Biaya Operasional', amount: -2500000, type: 'expense' },
            { id: 3, date: '2023-05-03', description: 'Pendapatan Sewa Tanah', amount: 8000000, type: 'income' },
            { id: 4, date: '2023-05-04', description: 'Pembelian Bibit Padi', amount: -1200000, type: 'expense' },
            { id: 5, date: '2023-05-05', description: 'Pendapatan Penjualan Ayam', amount: 3500000, type: 'income' },
            { id: 6, date: '2023-05-06', description: 'Biaya Transportasi', amount: -450000, type: 'expense' },
        ];

        const dummyMembers = [
            { id: 1, name: 'Ahmad Susanto', position: 'Ketua', photo: 'https://picsum.photos/seed/ketua/100/100.jpg' },
            { id: 2, name: 'Siti Nurhaliza', position: 'Wakil Ketua', photo: 'https://picsum.photos/seed/wakil/100/100.jpg' },
            { id: 3, name: 'Budi Santoso', position: 'Sekretaris', photo: 'https://picsum.photos/seed/sekretaris/100/100.jpg' },
            { id: 4, name: 'Dewi Astuti', position: 'Bendahara', photo: 'https://picsum.photos/seed/bendahara/100/100.jpg' },
            { id: 5, name: 'Hendra Wijaya', position: 'Anggota', photo: 'https://picsum.photos/seed/anggota1/100/100.jpg' },
            { id: 6, name: 'Rina Kurniasih', position: 'Anggota', photo: 'https://picsum.photos/seed/anggota2/100/100.jpg' },
        ];

        function App() {
            const [activeTab, setActiveTab] = useState('dashboard');
            const [transactions, setTransactions] = useState(dummyTransactions);
            const [members, setMembers] = useState(dummyMembers);

            // Hitung total pemasukan dan pengeluaran
            const totalIncome = transactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0);
            const totalExpense = Math.abs(transactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0));
            const balance = totalIncome - totalExpense;

            return (
                <div className="min-h-screen flex flex-col">
                    {/* Header */}
                    <header className="bg-blue-600 text-white shadow-md">
                        <div className="container mx-auto px-4 py-3 flex justify-between items-center">
                            <h1 className="text-xl font-bold">Aplikasi Keuangan Bumdes</h1>
                            <div className="flex items-center space-x-4">
                                <span className="font-medium">Desa Wisata</span>
                                <button className="bg-white text-blue-600 px-3 py-1 rounded-md text-sm font-medium">Login</button>
                            </div>
                        </div>
                    </header>

                    {/* Navigation Tabs */}
                    <nav className="bg-white border-b shadow-sm">
                        <div className="container mx-auto px-4">
                            <div className="flex space-x-8">
                                <button 
                                    onClick={() => setActiveTab('dashboard')}
                                    className={`py-4 px-2 ${activeTab === 'dashboard' ? 'border-b-2 border-blue-600 text-blue-600 font-medium' : 'text-gray-500 hover:text-gray-700'}`}
                                >
                                    Dashboard
                                </button>
                                <button 
                                    onClick={() => setActiveTab('transactions')}
                                    className={`py-4 px-2 ${activeTab === 'transactions' ? 'border-b-2 border-blue-600 text-blue-600 font-medium' : 'text-gray-500 hover:text-gray-700'}`}
                                >
                                    Transaksi
                                </button>
                                <button 
                                    onClick={() => setActiveTab('reports')}
                                    className={`py-4 px-2 ${activeTab === 'reports' ? 'border-b-2 border-blue-600 text-blue-600 font-medium' : 'text-gray-500 hover:text-gray-700'}`}
                                >
                                    Laporan
                                </button>
                                <button 
                                    onClick={() => setActiveTab('members')}
                                    className={`py-4 px-2 ${activeTab === 'members' ? 'border-b-2 border-blue-600 text-blue-600 font-medium' : 'text-gray-500 hover:text-gray-700'}`}
                                >
                                    Pengurus & Anggota
                                </button>
                            </div>
                        </div>
                    </nav>

                    {/* Main Content */}
                    <main className="flex-grow container mx-auto px-4 py-6">
                        {activeTab === 'dashboard' && <Dashboard totalIncome={totalIncome} totalExpense={totalExpense} balance={balance} />}
                        {activeTab === 'transactions' && <TransactionsList transactions={transactions} />}
                        {activeTab === 'reports' && <ReportsSection transactions={transactions} />}
                        {activeTab === 'members' && <MembersSection members={members} />}
                    </main>

                    {/* Footer */}
                    <footer className="bg-gray-800 text-white py-4">
                        <div className="container mx-auto px-4 text-center">
                            <p>&copy; 2023 Aplikasi Keuangan Bumdes. Hak Cipta Dilindungi.</p>
                        </div>
                    </footer>
                </div>
            );
        }

        function Dashboard({ totalIncome, totalExpense, balance }) {
            return (
                <div>
                    <h2 className="text-2xl font-bold mb-6">Dashboard Keuangan</h2>
                    
                    {/* Summary Cards */}
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div className="bg-green-50 border border-green-200 rounded-lg p-6">
                            <div className="flex items-center">
                                <div className="p-3 bg-green-100 rounded-full mr-4">
                                    <i className="fas fa-arrow-up text-green-600"></i>
                                </div>
                                <div>
                                    <p className="text-sm text-gray-600">Total Pemasukan</p>
                                    <p className="text-2xl font-bold text-green-600">Rp {totalIncome.toLocaleString()}</p>
                                </div>
                            </div>
                        </div>
                        
                        <div className="bg-red-50 border border-red-200 rounded-lg p-6">
                            <div className="flex items-center">
                                <div className="p-3 bg-red-100 rounded-full mr-4">
                                    <i className="fas fa-arrow-down text-red-600"></i>
                                </div>
                                <div>
                                    <p className="text-sm text-gray-600">Total Pengeluaran</p>
                                    <p className="text-2xl font-bold text-red-600">Rp {totalExpense.toLocaleString()}</p>
                                </div>
                            </div>
                        </div>
                        
                        <div className="bg-blue-50 border border-blue-200 rounded-lg p-6">
                            <div className="flex items-center">
                                <div className="p-3 bg-blue-100 rounded-full mr-4">
                                    <i className="fas fa-wallet text-blue-600"></i>
                                </div>
                                <div>
                                    <p className="text-sm text-gray-600">Saldo Aktif</p>
                                    <p className="text-2xl font-bold text-blue-600">Rp {balance.toLocaleString()}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Recent Transactions */}
                    <div>
                        <h3 className="text-lg font-semibold mb-4">Transaksi Terbaru</h3>
                        <div className="bg-white rounded-lg shadow overflow-hidden">
                            <table className="w-full divide-y divide-gray-200">
                                <thead className="bg-gray-50">
                                    <tr>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tanggal</th>
                                        <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Deskripsi</th>
                                        <th className="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Jumlah</th>
                                    </tr>
                                </thead>
                                <tbody className="bg-white divide-y divide-gray-200">
                                    {transactions.slice(0, 5).map(transaction => (
                                        <tr key={transaction.id}>
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{new Date(transaction.date).toLocaleDateString('id-ID')}</td>
                                            <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{transaction.description}</td>
                                            <td className={`px-6 py-4 whitespace-nowrap text-sm font-medium text-right ${transaction.type === 'income' ? 'text-green-600' : 'text-red-600'}`}>
                                                Rp {(Math.abs(transaction.amount)).toLocaleString()}
                                            </td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            );
        }

        function TransactionsList({ transactions }) {
            return (
                <div>
                    <h2 className="text-2xl font-bold mb-6">Daftar Transaksi</h2>
                    
                    <div className="bg-white rounded-lg shadow overflow-hidden">
                        <table className="w-full divide-y divide-gray-200">
                            <thead className="bg-gray-50">
                                <tr>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tanggal</th>
                                    <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Deskripsi</th>
                                    <th className="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Jumlah</th>
                                    <th className="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Tipe</th>
                                    <th className="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Aksi</th>
                                </tr>
                            </thead>
                            <tbody className="bg-white divide-y divide-gray-200">
                                {transactions.map(transaction => (
                                    <tr key={transaction.id}>
                                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{new Date(transaction.date).toLocaleDateString('id-ID')}</td>
                                        <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">{transaction.description}</td>
                                        <td className={`px-6 py-4 whitespace-nowrap text-sm font-medium text-right ${transaction.type === 'income' ? 'text-green-600' : 'text-red-600'}`}>
                                            Rp {(Math.abs(transaction.amount)).toLocaleString()}
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap text-sm text-center">
                                            <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${transaction.type === 'income' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                                                {transaction.type === 'income' ? 'Pemasukan' : 'Pengeluaran'}
                                            </span>
                                        </td>
                                        <td className="px-6 py-4 whitespace-nowrap text-sm text-center">
                                            <button className="text-blue-600 hover:text-blue-800 mr-3">
                                                <i className="fas fa-edit"></i>
                                            </button>
                                            <button className="text-red-600 hover:text-red-800">
                                                <i className="fas fa-trash-alt"></i>
                                            </button>
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                </div>
            );
        }

        function ReportsSection({ transactions }) {
            return (
                <div>
                    <h2 className="text-2xl font-bold mb-6">Laporan Keuangan</h2>
                    
                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        {/* Monthly Report Chart Placeholder */}
                        <div className="bg-white p-6 rounded-lg shadow">
                            <h3 className="text-lg font-semibold mb-4">Laporan Bulanan</h3>
                            <div className="h-64 bg-gray-100 rounded flex items-center justify-center">
                                <img src="https://placehold.co/600x300/e2e8f0/a0aec0?text=Laporan+Bulanan+Keuangan" alt="Grafik laporan bulanan keuangan Bumdes menunjukkan tren pendapatan dan pengeluaran dari Januari hingga Desember" className="max-w-full max-h-full" />
                            </div>
                        </div>
                        
                        {/* Yearly Report Chart Placeholder */}
                        <div className="bg-white p-6 rounded-lg shadow">
                            <h3 className="text-lg font-semibold mb-4">Laporan Tahunan</h3>
                            <div className="h-64 bg-gray-100 rounded flex items-center justify-center">
                                <img src="https://placehold.co/600x300/e2e8f0/a0aec0?text=Laporan+Tahunan+Keuangan" alt="Grafik laporan tahunan keuangan Bumdes menunjukkan pertumbuhan finansial selama beberapa tahun terakhir" className="max-w-full max-h-full" />
                            </div>
                        </div>
                    </div>
                    
                    {/* Export Options */}
                    <div className="mt-8 bg-white p-6 rounded-lg shadow">
                        <h3 className="text-lg font-semibold mb-4">Ekspor Laporan</h3>
                        <div className="flex flex-wrap gap-4">
                            <button className="bg-blue-600 text-white px-4 py-2 rounded-md flex items-center">
                                <i className="fas fa-file-pdf mr-2"></i> Ekspor PDF
                            </button>
                            <button className="bg-green-600 text-white px-4 py-2 rounded-md flex items-center">
                                <i className="fas fa-file-excel mr-2"></i> Ekspor Excel
                            </button>
                            <button className="bg-purple-600 text-white px-4 py-2 rounded-md flex items-center">
                                <i className="fas fa-print mr-2"></i> Cetak Laporan
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        function MembersSection({ members }) {
            return (
                <div>
                    <h2 className="text-2xl font-bold mb-6">Pengurus & Anggota Bumdes</h2>
                    
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        {members.map(member => (
                            <div key={member.id} className="bg-white rounded-lg shadow overflow-hidden">
                                <div className="p-6">
                                    <div className="flex flex-col items-center">
                                        <img src={member.photo} alt={member.name} className="w-24 h-24 rounded-full object-cover mb-4" />
                                        <h3 className="text-lg font-semibold">{member.name}</h3>
                                        <p className="text-gray-600">{member.position}</p>
                                        <div className="mt-4 w-full">
                                            <button className="w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700 transition duration-200">
                                                Detail Profil
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>